---
// Language detection and redirect
const acceptLanguage = Astro.request.headers.get('accept-language') || '';
const prefersEnglish = acceptLanguage.toLowerCase().includes('en') && 
  !acceptLanguage.toLowerCase().includes('ja');
const defaultLang = prefersEnglish ? 'en' : 'ja';
return Astro.redirect(`/${defaultLang}/`, 302);
---
